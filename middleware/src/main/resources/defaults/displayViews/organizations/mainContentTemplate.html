<div>
  <span class="h3">
    <a href="display/{{=it.collection}}/{{=it.id}}">{{=it.name}}</a>
  </span>
  <span class="h3 lead font-weight-normal text-nowrap text-secondary">
    <span class="ml-1">|</span>
    <span class="pipe-seperated">
      {{~it.type :type}}
      <span>{{=type}}</span>
      {{~}}
    </span>
    <span class="ml-1"><a href="{{=it.vivoUrl}}/individual/{{=it.id}}"><i class="fa fa-link"><span class="d-none">individual record</span></i></a></span>
  </span>
</div>
<div>
  {{? it.affiliatedResearchAreas }}
  <div class="mt-1">
    <span class="label">Research Areas:</span>
  </div>
  <div class="ml-1">
    <div class="comma-seperated">
      {{~it.affiliatedResearchAreas.slice(0, 10) :affiliatedResearchArea}}
      <span><a href="display/concepts/{{=affiliatedResearchArea.id}}">{{=affiliatedResearchArea.label}}</a></span>
      {{~}}
      {{? it.affiliatedResearchAreas.length > 10 }}
      <div class="more badge badge-light" tabindex="0">...more</div>
      <div class="area comma-seperated">
        {{~it.affiliatedResearchAreas.slice(10, it.affiliatedResearchAreas.length) :affiliatedResearchArea}}
 	    <span><a href="display/concepts/{{=affiliatedResearchArea.id}}">{{=affiliatedResearchArea.label}}</a></span>
        {{~}}
      </div>
      {{?}}
    </div>
  </div>
  {{?}}
</div>

<style>
  .label {
    font-weight: 550;
    margin-right: 2px;
  }

  .pipe-seperated span:after {
    content: " | ";
  }

  .pipe-seperated span:last-child:after {
    content: "";
  }

  .comma-seperated span:after {
    content: ", ";
  }

  .comma-seperated span:last-child:after {
    content: "";
  }
  
  .more {
    display: inline;
  }

  .area {
  	opacity: 0;
    visibility: hidden;
    position: absolute;
    margin-left: -5px;
    margin-right: 5px;
    padding: 5px;
    background-color: #fff;
    background-clip: border-box;
    border: 1px solid rgba(0, 0, 0, 0.125);
    border-radius: 0.25rem;
  }

  .area:hover {
    z-index: 10;
    opacity: 1;
    visibility: visible;
  }

  .more:hover ~ .area {
    z-index: 10;
    opacity: 1;
    visibility: visible;
  }

</style>